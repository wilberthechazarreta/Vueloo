/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
CREATE SCHEMA FACTURACION AUTHORIZATION SA
create table facturacion.Autor (oid varchar(32) not null, nombre varchar(50), primary key (oid))
create table facturacion.Categoria (oid varchar(32) not null, descripcion varchar(50), primary key (oid))
create table facturacion.Cliente (numero integer not null, CodigoPostal integer, municipio varchar(20), provincia varchar(30), viaPublica varchar(30), nombre varchar(50), primary key (numero))
create table facturacion.DocumentoComercial (DTYPE varchar(31) not null, oid varchar(32) not null, anyo integer, fecha date, numero integer, observaciones varchar(255), cliente_numero integer not null, factura_oid varchar(32), primary key (oid))
create table facturacion.DocumentoComercial_detalles (DocumentoComercial_oid varchar(32) not null, cantidad integer not null, producto_numero integer)
create table facturacion.IMAGES (ID varchar(255) not null, GALLERY varchar(255), IMAGE varbinary(16777216), primary key (ID))
create table facturacion.OXDISCUSSIONCOMMENTS (id varchar(32) not null, comment clob(16777216), discussionId varchar(32), time timestamp, userName varchar(30), primary key (id))
create table facturacion.Producto (numero integer not null, descripcion varchar(50), fotos varchar(32), observaciones varchar(255), precio numeric(19,2), autor_oid varchar(32), categoria_oid varchar(32), primary key (numero))
create table facturacion.TuPrimeraEntidad (id varchar(32) not null, descripcion varchar(50), fecha date, importe numeric(19,2), primary key (id))
create index facturacion.IDXbhlx4vunn24ym1tbrlgq8g30m on facturacion.OXDISCUSSIONCOMMENTS (discussionId)
alter table facturacion.DocumentoComercial add constraint FKqxvhhtdl5x1bljcimyej4mksx foreign key (cliente_numero) references facturacion.Cliente
alter table facturacion.DocumentoComercial add constraint FK4lhtu14i3f0y8m4ohuxww2b48 foreign key (factura_oid) references facturacion.DocumentoComercial
alter table facturacion.DocumentoComercial_detalles add constraint FKgyn78bk9nimdbk5uxm7ioiib1 foreign key (producto_numero) references facturacion.Producto
alter table facturacion.DocumentoComercial_detalles add constraint FKq37xaecvr7po697tmegcffoba foreign key (DocumentoComercial_oid) references facturacion.DocumentoComercial
alter table facturacion.Producto add constraint FKmtkejrnklbkimttu99b9jqufw foreign key (autor_oid) references facturacion.Autor
alter table facturacion.Producto add constraint FKc81rcy0vfdn5ewnap5scabhd3 foreign key (categoria_oid) references facturacion.Categoria
SET SCHEMA FACTURACION
INSERT INTO CATEGORIA VALUES('402881c483f1c3a10183f1c56fb30000','Prueba')
COMMIT
INSERT INTO AUTOR VALUES('402881c483f1c3a10183f1c5a0670001','Wilberth')
COMMIT
INSERT INTO PRODUCTO VALUES(2,'Prueba',NULL,'',123.00,'402881c483f1c3a10183f1c5a0670001','402881c483f1c3a10183f1c56fb30000')
COMMIT
INSERT INTO CLIENTE VALUES(1,77250,'FCP','FCP','Juan bautista V.','Wiberth')
COMMIT
INSERT INTO DOCUMENTOCOMERCIAL VALUES('Factura','402881c483f1c3a10183f1c6b9280002',2022,'2022-10-19',1,'',1,NULL)
INSERT INTO DOCUMENTOCOMERCIAL_DETALLES VALUES('402881c483f1c3a10183f1c6b9280002',2,2)
COMMIT
SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA FACTURACION
INSERT INTO CATEGORIA VALUES('402881c483f1c93a0183f1ca30190000','Juegos')
COMMIT
INSERT INTO PRODUCTO VALUES(1,'Juegos de mesa',NULL,'',400.00,'402881c483f1c3a10183f1c5a0670001','402881c483f1c93a0183f1ca30190000')
COMMIT
INSERT INTO DOCUMENTOCOMERCIAL VALUES('Factura','402881c483f1c93a0183f1cb06a20001',2022,'2022-10-19',2,'',1,NULL)
INSERT INTO DOCUMENTOCOMERCIAL_DETALLES VALUES('402881c483f1c93a0183f1cb06a20001',2,1)
COMMIT
DELETE FROM DOCUMENTOCOMERCIAL_DETALLES WHERE DOCUMENTOCOMERCIAL_OID='402881c483f1c3a10183f1c6b9280002' AND CANTIDAD=2 AND PRODUCTO_NUMERO=2
DELETE FROM DOCUMENTOCOMERCIAL WHERE OID='402881c483f1c3a10183f1c6b9280002'
COMMIT
DELETE FROM DOCUMENTOCOMERCIAL_DETALLES WHERE DOCUMENTOCOMERCIAL_OID='402881c483f1c93a0183f1cb06a20001' AND CANTIDAD=2 AND PRODUCTO_NUMERO=1
DELETE FROM DOCUMENTOCOMERCIAL WHERE OID='402881c483f1c93a0183f1cb06a20001'
COMMIT
SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA FACTURACION
DELETE FROM PRODUCTO WHERE NUMERO=2
INSERT INTO PRODUCTO VALUES(2,'Prueba','F1CE52B9C0A80144000000006F6FF568','',123.00,'402881c483f1c3a10183f1c5a0670001','402881c483f1c3a10183f1c56fb30000')
COMMIT
DELETE FROM PRODUCTO WHERE NUMERO=2
INSERT INTO PRODUCTO VALUES(2,'Prueba','F1CE52B9C0A80144000000006F6FF568','prueba',123.00,'402881c483f1c3a10183f1c5a0670001','402881c483f1c3a10183f1c56fb30000')
COMMIT
SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA FACTURACION
INSERT INTO DOCUMENTOCOMERCIAL VALUES('Factura','402881c483f1d90e0183f1d9d8150000',2022,'2022-10-19',1,'',1,NULL)
INSERT INTO DOCUMENTOCOMERCIAL_DETALLES VALUES('402881c483f1d90e0183f1d9d8150000',23,1)
INSERT INTO DOCUMENTOCOMERCIAL_DETALLES VALUES('402881c483f1d90e0183f1d9d8150000',32,2)
COMMIT
SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
alter table FACTURACION.DOCUMENTOCOMERCIAL_DETALLES add column precioPorunidad numeric(19,2)
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA FACTURACION
DELETE FROM CLIENTE WHERE NUMERO=1
INSERT INTO CLIENTE VALUES(1,77250,'FCP','FCP','Juan bautista V.','Wilberth')
COMMIT
INSERT INTO DOCUMENTOCOMERCIAL VALUES('Factura','402881c483f1f1970183f1f2d70e0000',2022,'2022-10-19',2,'',1,NULL)
INSERT INTO DOCUMENTOCOMERCIAL_DETALLES VALUES('402881c483f1f1970183f1f2d70e0000',2,1,400.00)
COMMIT
